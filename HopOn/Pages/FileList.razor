@using HopOn.Services;
@inherits FileListBaseClass
    <style>
        #customers {
            font-family: Arial, Helvetica, sans-serif;
            border-collapse: collapse;
            width: 100%;
        }

            #customers td, #customers th {
                border: 1px solid #ddd;
                padding: 8px;
            }

            #customers tr:nth-child(even) {
                background-color: #f2f2f2;
            }

            #customers tr:hover {
                background-color: #ddd;
            }

            #customers th {
                padding-top: 12px;
                padding-bottom: 12px;
                text-align: left;
                background-color: #04AA6D;
                color: white;
            }
    </style>
    <h3>File List</h3>
    <div>
        <button class="btn btn-primary" id="DownloadSelectedFile" onclick="DownloadDeleteMultiPel('Download')" style="display:none">
            Download Selected File
        </button>
        <button class="btn btn-primary" id="DeleteSelectedFile" onclick="DownloadDeleteMultiPel('Delete')" style="display:none">
            Delete Selected File
        </button>
    </div>
    <div class="card-deck">
        @if (FileLists != null)
        {
            @foreach (var File in FileLists)
            {
                <div class="card m-3" style="min-width: 18rem; max-width:24.5%;">

                    <div class="card-header">
                        <input type="checkbox" name="chk" id="@File.AwsId" onclick="checkValue('@File.AwsId', '@File.Guid', '@File.FileName')" /> <h3>@File.FileName</h3>
                    </div>
                    <img class="card-img-top imageThumbnail" style="width: 55%;align-content: center;" src="@File.FilePath" />
                    <div class="card-footer text-center">

                        <a href="javascript:void(0)" class="btn btn-danger m-1" onclick="ShareFile('@File.Guid')">Share File</a>
                        <a href="api/Upload/DownloadAWSFile/@File.Guid" id="@File.Guid" class="btn btn-primary m-1">Download</a>
                        <a href="javascript:void(0)" class="btn btn-danger m-1" onclick="DeleteFile('@File.Guid')">Delete</a>

                    </div>
                </div>
            }
        }
        <button class="btn btn-outline-secondary" id="FileListRefresh" style="display:none" @onclick="FileListRefresh">
            FileListRefresh
        </button>
    </div>

    <!-- Modal -->
    <div class="modal" tabindex="-1" role="dialog" id="DeleteConfirmModal" style="display:none">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header"style="background-color: #337ab7;">
                    <h4 class="modal-title" id="exampleModalLongTitle">Are you sure you want to delete the below files</h4>
                    <button type="button" class="close" data-dismiss="modal"onclick="closeModel('Delete')" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <table id="customers">
                        <tr id="FirstHead">
                            <th>File Name</th>
                            <th></th>
                        </tr>
                    </table>

                    </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" onclick="closeModel('Delete')" data-dismiss="modal">cancle</button>
                    <button type="button" class="btn btn-success"onclick="ConfirmDelete()">Confirm</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" tabindex="-1" role="dialog" id="ShareFileLink" style="display:none">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color: #337ab7;">
                    <h4 class="modal-title" id="exampleModalLongTitle">File link</h4>
                    <button type="button" class="close" data-dismiss="modal" onclick="closeModel('Share')" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="col-lg-12">
                        <input type="Text" name="ShareableLink"style="width: 100%;" id="ShareLink" value="" />
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" onclick="closeModel('Share')" data-dismiss="modal">cancle</button>
                </div>
            </div>
        </div>
    </div>

